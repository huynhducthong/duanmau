<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Trang Order ƒê·ªì ƒÇn</title>
    <link rel="stylesheet" href="./css/order.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <h1>Trang Order ƒê·ªì ƒÇn</h1>
    <li class="nav-item">
     <a style="text-decoration: none; color: black; margin: 10px" href="./spck.html" class="nav-link"><i class="fa-solid fa-house"></i></a>
     <a style="text-decoration: none; color: black; margin: 10px" href="./balance.html" class="nav-link"><i class="fa-solid fa-dollar-sign"></i></a>
 </li>

    <!-- √î t√¨m ki·∫øm -->
<input style="margin: 10px;" type="text" id="search-box" placeholder="T√¨m m√≥n ƒÉn..." oninput="filterMenu()">

    
    <p>S·ªë d∆∞ v√≠: <span id="wallet-balance">0 VND</span></p>


    <div class="menu">
        <div class="item">
            <img src="https://media.vov.vn/sites/default/files/styles/large/public/2024-12/cach_an_banh_mi_1.jpg" alt="B√°nh m√¨">
            <h3>B√°nh m√¨</h3>
            <p>20,000 VND</p>
            <button onclick="addToCart('B√°nh m√¨', 20000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://i.ytimg.com/vi/c9GfHgMk1ac/maxresdefault.jpg" alt="Ph·ªü b√≤">
            <h3>Ph·ªü b√≤</h3>
            <p>50,000 VND</p>
            <button onclick="addToCart('Ph·ªü b√≤', 50000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://image.baophapluat.vn/w840/Uploaded/2025/ycgvptcc/2020_05_28/cach-lam-com-chien-duong-chau-600x481_DLZM.jpg" alt="c∆°m chi√™n">
            <h3>C∆°m chi√™n</h3>
            <p>35,000 VND</p>
            <button onclick="addToCart('c∆°m chi√™n', 35000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAisqlcgi1FcmnumSIixgmVM-rl23sGwOcQg&s" alt="c∆°m s∆∞·ªùn">
            <h3>C∆°m s∆∞·ªùn</h3>
            <p>35,000 VND</p>
            <button onclick="addToCart('c∆°m s∆∞·ªùn', 35000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://cdn.tgdd.vn/Files/2018/12/03/1135382/3-cach-nau-chao-dau-do--18-760x367.jpg" alt="ch√°o ƒë·∫≠u ƒë·ªè">
            <h3>Ch√°o ƒê·∫≠u ƒê·ªè</h3>
            <p>20,000 VND</p>
            <button onclick="addToCart('ch√°o ƒê·∫≠u ƒê·ªè', 20000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://danviet.ex-cdn.com/files/f1/upload/1-2015/images/2015-03-24/1434346001-auvmcach-lam-bun-thit-nuong-giadinhvn-233-1010.jpg" alt="b√∫n th·ªãt n∆∞·ªõng ">
            <h3>B√∫n th·ªãt n∆∞·ªõng</h3>
            <p>35,000 VND</p>
            <button onclick="addToCart('b√∫n th·ªãt n∆∞·ªõng', 35000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://img.tripi.vn/cdn-cgi/image/width=700,height=700/https://img5.thuthuatphanmem.vn/uploads/2021/11/24/anh-bun-dau-mam-tom-chat-luong-cao_101900877.jpeg" alt="b√∫n ƒë·∫≠u">
            <h3>B√∫n ƒë·∫≠u</h3>
            <p>65,000 VND</p>
            <button onclick="addToCart('B√∫n ƒë·∫≠u', 65000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSQflVXe_sCtkuBWr6IZO1Zemc1PYRpJECHFQ&s" alt="h·ªß ti·∫øu">
            <h3>h·ªß ti·∫øu</h3>
            <p>20,000 VND</p>
            <button onclick="addToCart('h·ªß ti·∫øu', 20000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://www.lobanhmi.vn/wp-content/uploads/2024/10/banh-mi-pha-lau.jpg" alt="B√°nh m√¨ ph√° l·∫•u">
            <h3>B√°nh m√¨ ph√° l·∫•u</h3>
            <p>30,000 VND</p>
            <button onclick="addToCart('B√°nh m√¨ ph√° l·∫•u', 30000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://cdn.buffetposeidon.com/app/media/uploaded-files/200823-cach-lam-pho-ga-buffet-poseidon.jpg" alt="Ph·ªü g√†">
            <h3>Ph·ªü g√†</h3>
            <p>50,000 VND</p>
            <button onclick="addToCart('Ph·ªü g√†', 50000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://static.vinwonders.com/production/com-ga-hue-1.jpg" alt="c∆°m g√†">
            <h3>C∆°m g√†</h3>
            <p>40,000 VND</p>
            <button onclick="addToCart('c∆°m g√†', 40000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://img-global.cpcdn.com/recipes/fca0dc2538317eed/200x200cq70/c%C6%A1m-n%E1%BA%AFm-ca-h%E1%BB%93i-ca-ng%E1%BB%AB-rong-bi%E1%BB%83n-recipe-main-photo.jpg" alt="c∆°m n·∫Øm">
            <h3>C∆°m nƒÉm</h3>
            <p>25,000 VND</p>
            <button onclick="addToCart('c∆°m n·∫Øm', 25000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://static.vinwonders.com/2022/12/chao-ga-da-nang-1.jpg" alt="ch√°o g√†">
            <h3>Ch√°o G√†</h3>
            <p>20,000 VND</p>
            <button onclick="addToCart('ch√°o g√†', 20000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://bizweb.dktcdn.net/thumb/grande/100/442/328/articles/bun-cha-ha-noi.jpg?v=1645002827367" alt="b√∫n ch·∫£">
            <h3>B√∫n ch·∫£</h3>
            <p>35,000 VND</p>
            <button onclick="addToCart('b√∫n ch·∫£', 35000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://eggyolk.vn/wp-content/uploads/2024/06/Cach-nau-Bun-Bo-Hue-tai-nha.jpg" alt="b√∫n b√≤ hu·∫ø">
            <h3>B√∫n b√≤ hu·∫ø</h3>
            <p>65,000 VND</p>
            <button onclick="addToCart('B√∫n ƒë·∫≠u', 65000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://cdn.tgdd.vn/2021/07/CookProduct/HutieuNamVangchay-1200x676.jpg" alt="h·ªß ti·∫øu chay">
            <h3>h·ªß ti·∫øu chay</h3>
            <p>20,000 VND</p>
            <button onclick="addToCart('h·ªß ti·∫øu chay', 20000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgjPUq-4Zqau9DePFc0hbBBPfk837j5mHRQQ&s" alt="B√°nh m√¨ sandwich">
            <h3>B√°nh m√¨ sandwich</h3>
            <p>45,000 VND</p>
            <button onclick="addToCart('B√°nh m√¨ sandwich', 45000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSaYQ6r_PdgnenWp6ml-Kc1gskiJTes-Dq47Q&s" alt="Ph·ªü cu·ªën">
            <h3>Ph·ªü cu·ªën</h3>
            <p>45,000 VND</p>
            <button onclick="addToCart('Ph·ªü cu·ªën', 45000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRTjMTotddbFGWEaQfqkSoBR0DR3jc_oh_S3g&s" alt="c∆°m t·∫•m">
            <h3>C∆°m t·∫•m</h3>
            <p>35,000 VND</p>
            <button onclick="addToCart('c∆°m t·∫•m', 35000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://kinhtevadubao.vn/stores/news_dataimages/kinhtevadubaovn/052020/11/15/1588668316-news-1650120210326210830.9724990.jpg" alt="c∆°m lam">
            <h3>C∆°m lam</h3>
            <p>35,000 VND</p>
            <button onclick="addToCart('c∆°m lam', 35000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://duonggiahotel.vn/wp-content/uploads/2023/11/anh-bia-quan-chao-long-da-nang.jpg" alt="ch√°o l√≤ng">
            <h3>Ch√°o L√≤ng</h3>
            <p>20,000 VND</p>
            <button onclick="addToCart('ch√°o l√≤ng', 20000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://cdn3.ivivu.com/2020/05/bun-thit-xao-ivivu-1.jpg" alt="b√∫n x√†o">
            <h3>B√∫n x√†o</h3>
            <p>35,000 VND</p>
            <button onclick="addToCart('b√∫n x√†o', 35000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://media-cdn-v2.laodong.vn/Storage/NewsPortal/2021/5/28/914257/189321515_1992632020.jpg" alt="b√∫n ri√™u">
            <h3>B√∫n ri√™u</h3>
            <p>55,000 VND</p>
            <button onclick="addToCart('B√∫n ri√™u', 55000)">Th√™m v√†o gi·ªè</button>
        </div>
        <div class="item">
            <img src="https://danviet.mediacdn.vn/upload/1-2018/images/2018-03-08/hu-tieu-1520506975-width600height423.jpg" alt="h·ªß ti·∫øu m·ª±c">
            <h3>h·ªß ti·∫øu m·ª±c</h3>
            <p>80,000 VND</p>
            <button onclick="addToCart('h·ªß ti·∫øu m·ª±c', 80000)">Th√™m v√†o gi·ªè</button>
        </div>

    </div>

    <!-- N√∫t gi·ªè h√†ng n·ªïi -->
    <button id="cart-button" onclick="toggleCart()">üõí</button>

    <!-- Khung gi·ªè h√†ng ·∫©n -->
    <div class="cart" id="cart">
        <h2>Gi·ªè h√†ng</h2>
        <div id="cart-items"></div>
        <p><strong>T·ªïng c·ªông:</strong> <span id="total">0</span> VND</p>
        <button id="checkout-btn" onclick="checkout()">Thanh to√°n</button>
    </div>


    <script>
        // L·ªçc m√≥n ƒÉn theo t·ª´ kh√≥a nh·∫≠p v√†o
function filterMenu() {
    const keyword = document.getElementById('search-box').value.toLowerCase();
    const items = document.querySelectorAll('.menu .item');

    items.forEach(item => {
        const itemName = item.querySelector('h3').textContent.toLowerCase();
        if (itemName.includes(keyword)) {
            item.style.display = 'block';
        } else {
            item.style.display = 'none';
        }
    });
}

        let cart = {};
        let walletBalance = parseFloat(localStorage.getItem('wallet_balance')) || 0;  // L·∫•y s·ªë d∆∞ v√≠ t·ª´ localStorage

        // Hi·ªÉn th·ªã s·ªë d∆∞ v√≠ tr√™n giao di·ªán
        function updateBalanceDisplay() {
            document.getElementById('wallet-balance').textContent = walletBalance.toLocaleString() + ' VND';
        }

        // Th√™m m√≥n v√†o gi·ªè
        function addToCart(name, price) {
            if (cart[name]) {
                cart[name].quantity += 1;
            } else {
                cart[name] = { price: price, quantity: 1 };
            }
            displayCart();
        }

        // X√≥a m√≥n kh·ªèi gi·ªè
        function removeFromCart(name) {
            delete cart[name];
            displayCart();
        }

        // Hi·ªÉn th·ªã gi·ªè h√†ng
        function displayCart() {
            const cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            let total = 0;

            for (let name in cart) {
                const item = cart[name];
                const itemDiv = document.createElement('div');
                itemDiv.className = 'cart-item';
                itemDiv.innerHTML = `
                    ${name} - ${item.price.toLocaleString()} VND x ${item.quantity}
                    <button onclick="removeFromCart('${name}')">X√≥a</button>
                `;
                cartItems.appendChild(itemDiv);
                total += item.price * item.quantity;
            }

            document.getElementById('total').textContent = total.toLocaleString();
        }

        // Hi·ªÉn th·ªã gi·ªè h√†ng khi nh·∫•n n√∫t
        function toggleCart() {
            const cartDiv = document.getElementById('cart');
            cartDiv.style.display = cartDiv.style.display === 'none' || cartDiv.style.display === '' ? 'block' : 'none';
        }

        // Thanh to√°n v√† tr·ª´ ti·ªÅn t·ª´ v√≠
        function checkout() {
            const totalAmount = parseFloat(document.getElementById('total').textContent.replace(/,/g, ''));
            if (totalAmount === 0) {
                alert('Gi·ªè h√†ng tr·ªëng!');
                return;
            }

            if (walletBalance < totalAmount) {
                alert('S·ªë d∆∞ v√≠ kh√¥ng ƒë·ªß ƒë·ªÉ thanh to√°n!');
                return;
            }

            // Tr·ª´ ti·ªÅn t·ª´ v√≠
            walletBalance -= totalAmount;
            localStorage.setItem('wallet_balance', walletBalance);  // L∆∞u s·ªë d∆∞ m·ªõi v√†o localStorage

            alert('B·∫°n ƒë√£ thanh to√°n th√†nh c√¥ng!\nT·ªïng ti·ªÅn: ' + totalAmount.toLocaleString() + ' VND');
            cart = {};  // X√≥a gi·ªè h√†ng
            displayCart();  // C·∫≠p nh·∫≠t l·∫°i gi·ªè h√†ng
            updateBalanceDisplay();  // C·∫≠p nh·∫≠t l·∫°i s·ªë d∆∞ v√≠
            toggleCart();  // ƒê√≥ng gi·ªè h√†ng
        }

        // Hi·ªÉn th·ªã s·ªë d∆∞ v√≠ khi t·∫£i trang
        updateBalanceDisplay();
    </script>
</body>
</html>
